<html>

<head>
    <title>Torrent Chaser</title>
</head>

<body>
    Hello, World!!
    <h1> IP to Hostname </h1>
    <div>
        <label>Input IP</label>
        <input id="input_ip_to_host" type="text"><span id="btn_ip_to_output"></span>
        <button id="btn_ip_to_host">Check</button>
    </div>
    <script>
        var ie = document.getElementById("input_ip_to_host");
        var bt = document.getElementById("btn_ip_to_host");
        var ot = document.getElementById("btn_ip_to_output");

        function reqListener() {
            var ret = JSON.parse(this.responseText);
            console.log("COUNTRY " + ret["country"]);
            ot.innerText = ret["country"];
        }
        bt.addEventListener("click", function () {
            console.log(">ie.value = " + ie.value);
            var oReq = new XMLHttpRequest();
            oReq.addEventListener("load", reqListener);
            //oReq.setRequestHeader('Content-Type', 'application/json');
            oReq.open("POST", "api/get_hostname_from_ip");
            oReq.send(JSON.stringify({ "ip": ie.value }));
        })
    </script>

    <h1> IP to DOMAIN </h1>
    <div>
        <label>IP to Country</label>
        <input id="input_ip_to_host" type="text"><span id="btn_ip_to_output"></span>
        <button id="btn_ip_to_host">Check</button>
    </div>
</body>

</html>